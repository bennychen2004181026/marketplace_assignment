<h1>Admin::Categories#index</h1>
<p>Find me in app/views/admin/categories/index.html.erb</p>
<div>
  <div class="pull-right">
    <%= link_to "New Category", new_admin_category_path, class: "btn btn-primary" %>
  </div>

  <h1>
    <% if @category %>
    <%# Method: WillPaginate::ActiveRecord::RelationMethods#total_entries %>
      Category:<%= @category.title %>(<%= @categories.total_entries %>)
    <% else %>
      Category(<%= @categories.total_entries %>)
    <% end %>
  </h1>
</div>

<div>
  <table class="table table-striped">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Weight</th>
      <th></th>
    </tr>

    <% @categories.each do |category| %>
      <tr>
        <td><%= category.id %></td>
        <td><%= category.title %></td>
        <td><%= category.weight %></td>
        <td align="right">
          <%= link_to "Edit", edit_admin_category_path(category) %> 
          <%= link_to "Delete", admin_category_path(category), method: :delete, 'data-confirm': "Are you sure of deleting the category?" %>
          <%# Method root is provided by ancestry gem %>
          <% if category.root? %>
            <%= link_to "Sub-category", admin_categories_path(id: category) %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </table>

  <%= will_paginate @categories %>
</div>